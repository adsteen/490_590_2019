<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Hugo 0.56.3" />


<title>Lecture notes: Intro to dplyr - Geology 490/590 2019</title>
<meta property="og:title" content="Lecture notes: Intro to dplyr - Geology 490/590 2019">


  <link href='/490_590_2019/lab_logo_aidia_2016_xgC_icon.ico' rel='icon' type='image/x-icon'/>



  







<link rel="stylesheet" href="/490_590_2019/css/fonts.css" media="all">
<link rel="stylesheet" href="/490_590_2019/css/main.css" media="all">



  </head>
  <body>
    <div class="wrapper">
      <header class="header">
        <nav class="nav">
  <a href="/490_590_2019/" class="nav-logo">
    <img src="/490_590_2019/images/lab_logo_Aidia_2016.png"
         width="50"
         height="50"
         alt="Logo">
  </a>

  <ul class="nav-links">
    
    <li><a href="/490_590_2019/about/">About</a></li>
    
  </ul>
</nav>

      </header>


<main class="content" role="main">

  <article class="article">
    
    <span class="article-duration">3 min read</span>
    

    <h1 class="article-title">Lecture notes: Intro to dplyr</h1>

    
    <span class="article-date">2019-09-20</span>
    

    <div class="article-content">
      


<div id="resources" class="section level1">
<h1>Resources</h1>
<ul>
<li><a href="https://www.jstatsoft.org/article/view/v040i01">Original paper</a> (although note that the package that paper describes, <strong>plyr</strong>, has been replaced by the tidyverse package <strong>dplyr</strong>, which has totally different syntax.)</li>
<li>Software Carpentry lessons:
<ul>
<li><a href="https://swcarpentry.github.io/swc-releases/2016.06/r-novice-gapminder/12-plyr/">Split-apply-combine conceptual introduction</a></li>
<li><a href="http://swcarpentry.github.io/r-novice-gapminder/13-dplyr/index.html">Implementation in <strong>dplyr</strong></a></li>
<li>Note that, for some reason, the first Software Carpentry lesson is in <strong>plyr</strong> and the second is is in <strong>dplyr</strong>. This really makes no sense, as <strong>dplyr</strong> is the replacement for <strong>plyr</strong> - you’re not supposed to use them at the same time, and indeed loading them at the same time will cause some <a href="https://github.com/tidyverse/dplyr/issues/347">really weird stuff</a> to happen. So don’t do it.</li>
</ul></li>
<li>RStudio’s <a href="https://www.rstudio.com/wp-content/uploads/2015/02/data-wrangling-cheatsheet.pdf">data wrangling cheat sheet</a> (pdf link). This is mostly about <strong>dplyr</strong>, with a couple of other <strong>tidyverse</strong> packages included.</li>
</ul>
</div>
<div id="dplyr" class="section level1">
<h1><strong>dplyr</strong></h1>
<p><em>A note about “tibbles” and data frames:</em> <strong>dplyr</strong> works on “tibbles”, which are a specific kind of data frame. The name “tibble” comes from <code>tbl_df</code></p>
<p>The heart of the tidyverse is <strong>dplyr</strong>. <strong>dplyr</strong> can do a bunch of neat things, but today we’re going to focus on a few key abilities, and their associated functions:</p>
<ul>
<li>piping: <code>%&gt;%</code>. Feeds the return value of one function into the first argument of the next function. This allows you to perform a bunch of logically-connected operations on a data frame in one “line” of code. (In practice: please put a line break after each <code>%&gt;%</code>. This will prevent you from writing unbelievably long lines of code, and R will still interpret these as a single “line”.)</li>
<li>selecting: <code>select()</code>. Selects columns of a data frame.
<ul>
<li>This is just another way to subset a data frame by rows, just like the <code>$</code> (e.g. <code>diamonds$carat</code>) or bracket subsetting (e.g. <code>diamonds[, 2:4]</code> or <code>diamonds[ , c(&quot;cut&quot;, &quot;color&quot;, &quot;clarity&quot;)]</code>). The value is that it works well with piping.</li>
</ul></li>
<li>filtering: <code>filter()</code>. Subeset a data frame by rows. Keeps rows only if the value of that row for a specific column meets a condition.
<ul>
<li>This is just another way to subset by rows, just like bracket subetting (e.g. <code>diamonds[40_200:, ]</code>, <code>diamonds[diamonds$x &gt; 8, ]</code>, or the base R function <code>subset(diamonds, x &gt; 8)</code>). Again, it works well with piping. i</li>
</ul></li>
<li>grouping: <code>group_by()</code>. Split a data frame into invisible groups. Any <strong>dplyr</strong> operation on that data frame will be performed on each group of unique variables</li>
<li>summarising: <code>summarise()</code>. Calculates a <strong>single</strong> value per group of a data frame. You will always get back a new data frame with as many lines as there are unique groups in the original data frame.</li>
<li>mutating (adding columns): <code>mutate()</code>. Calculates a <strong>unique</strong> value for each row of the original data frame. You get back the original data frame, with one or more new columns added.</li>
</ul>
</div>

    </div>
  </article>

  


</main>

      <footer class="footer">
        <ul class="footer-links">
          <li>
            <a href="/490_590_2019/index.xml" type="application/rss+xml" target="_blank">RSS feed</a>
          </li>
          <li>
            <a href="https://gohugo.io/" class="footer-links-kudos">Made with <img src="/490_590_2019/images/hugo-logo.png" alt="Img link to Hugo website" width="22" height="22"></a>
          </li>
        </ul>
      </footer>

    </div>
    

    
<script src="/490_590_2019/js/math-code.js"></script>
<script async src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML"></script>


    
  </body>
</html>

